services:
  _defaults:
    autowire: true
  _instanceof:
    Symfony\Component\Console\Command\Command:
      tags: [ 'app.command' ]

  # Contributed services.
  Monolog\Logger:
    class: \Monolog\Logger
    arguments:
      # Log channel name.
      - 'mdtt'

  # Custom services.
  logger:
    class: \Mdtt\Logger\DefaultLogger
    arguments:
      - '@Monolog\Logger'

  Psr\Log\LoggerInterface: '@logger'

  Mdtt\:
    lazy: true
    resource: '../src/*'

  Mdtt\Application:
    public: true
    arguments:
      - !tagged_iterator app.command
